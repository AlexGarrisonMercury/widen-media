!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n(1);var a,i=n(2),l=(a=i)&&a.__esModule?a:{default:a};!function(e){var t=e("#widen-media"),n=e("#widen-search-input"),a=e("#widen-search-submit"),i=e("#widen-search-spinner"),r=e("#widen-search-results"),o=e("#widen-total-items");t.submit(function(t){t.preventDefault();var s=e('[name="swiden"]').val();n.attr("disabled",!0),a.attr("disabled",!0),i.addClass("is-active"),r.find(".tiles").html(""),e.ajax({url:WIDEN_MEDIA_OBJ.ajax_url,type:"POST",data:{action:"widen_media_form_submit",nonce:WIDEN_MEDIA_OBJ.ajax_nonce,query:s}}).done(function(t){console.table(t);var d=t.data.items,c=t.data.total_count;d.length<1?r.find(".tiles").append('<p class="no-results">No results for <strong>'+s+"</strong></p>"):(o.html("<strong>"+c+"</strong> results for <strong>"+s+"</strong>"),d.forEach(function(t){var n=(0,l.default)(t),a=JSON.stringify(n),i=e('\n            <li class="tile" id="'+n.id+'">\n              <a\n                data-fancybox\n                data-src="#modal-'+n.id+'"\n                href="javascript:;"\n                title="'+n.filename+'"\n                data-options=\'{"toolbar": false, "arrows": true, "autoFocus": false,"touch": false}\'\n              >\n                <div class="tile__header" aria-hidden="true">\n                  <img class="tile__image lazyload blur-up" src="'+n.imageUrl.skeleton+'" data-src="'+n.imageUrl.thumbnail+'" alt="" />\n                </div>\n                <div class="tile__content">\n                  <p class="tile__title">'+n.filename+'</p>\n                </div>\n              </a>\n\n              <form class="tile-modal" id="modal-'+n.id+'" style="display:none">\n                <div class="modal__header">\n                  <p class="modal__title">Widen Asset Details</p>\n                </div>\n\n                <div class="modal__grid">\n                  <div class="modal__image-wrapper">\n                    <img class="modal__image lazyload" data-src="'+n.imageUrl.exact+'" alt="" />\n                  </div>\n\n                  <div class="modal__meta">\n                    <div class="details">\n                      <div class="filename"><strong>File name:</strong> '+n.filename+'</div>\n                      <div class="format"><strong>File type:</strong> '+n.fileFormat+'</div>\n                      <div class="uploaded"><strong>Uploaded on:</strong> '+n.uploadDate+'</div>\n                      <div class="file-size"><strong>File size:</strong> '+n.fileSize+'</div>\n                      <br>\n                      <p class="description">'+n.description+'</p>\n                    </div>\n                    <input class="item__data" type="hidden" value=\''+a+'\'>\n                    <button class="button button-primary add-to-media-library">Add To Media Library</button>\n                </div>\n              </form>\n            </li>\n          ');r.find(".tiles").append(i)})),n.attr("disabled",!1),a.attr("disabled",!1),i.removeClass("is-active"),e(".tile-modal").submit(function(t){t.preventDefault();var n=e(this).find(".item__data").val();e.ajax({url:WIDEN_MEDIA_OBJ.ajax_url,type:"POST",data:{action:"widen_media_add_to_library",nonce:WIDEN_MEDIA_OBJ.ajax_nonce,item:n}}).done(function(t){e(".fancybox-close-small").trigger("click")})})})})}(jQuery_3_4_0)},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.id,n=e.metadata,a=e.external_id,i=e.filename,l=e.file_upload_date,r=e.file_properties,o={},s="https://embed.widencdn.net/img/masonite",d=r.size_in_kbytes,c=i.split(".").slice(0,1);return o.id=t,o.description=void 0===n.fields.description?"":n.fields.description.toString(),o.externalId=a,o.filename=i,o.uploadDate=l,o.fileSize=function(e){for(var t=e,n=0;t>900;)t/=1024,n++;return Math.round(100*t)/100+" "+["KB","MB","GB"][n]}(d),o.fileFormat=r.format,o.fileFormatType=r.format.type,o.imageUrl="image"===o.fileFormatType?null:o.imageUrl={skeleton:s+"/"+a+"/50x50px/"+c+".png?crop=no",thumbnail:s+"/"+a+"/500x500px@2x/"+c+".png?crop=no",exact:s+"/"+a+"/exact/"+c+".png"},console.log(e,o),o}}]);